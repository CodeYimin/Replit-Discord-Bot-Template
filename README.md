# Repl.it Discord Bot Template

A Discord bot template ready for **Plug & Play** hosting on repl.it.

## 📚 Tech Stack

- Language: **Typescript**
- Database: **SQLite**
- ORM: **[Prisma](https://github.com/prisma/prisma)**
- Discord Framework: **[Discord.ts](https://github.com/oceanroleplay/discord.ts)**

## 🚊 Initial Setup

- Install dependencies with ```yarn install```
- Set ```BOT_TOKEN``` environment variable (```.env``` file works)

SQLite file path is by default ```./prisma/bot.db``` and the file will automatically be generated by prisma if not already present.

## 👩‍💻 Development

```bash
yarn dev
```

- Automatically **restarts bot** on ts/json change
- Automatically **syncs database with prisma schema** on prisma schema change
- Automatically **generates prisma client** on prisma schema change
- Launches **Prisma Studio** (localhost:5555) without opening new tab

Commands being run:

- ```ts-node ./src/main.ts```, watching ```*.json, *.ts```
- ```prisma db push --accept-data-loss && prisma generate```, watching ```./prisma/*.prisma```
- ```prisma studio --browser none```

## 🚀 Production (Run button on Repl.it)

```bash
yarn prod
```

- Syncs database with prisma schema
- Compiles all typescript into ```./dist```
- Runs ```./dist/main.js```

Command being run:
```npx prisma db push && tsc --build && node ./dist/main.js```